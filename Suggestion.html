<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        
    <link rel="stylesheet" href="dist/css/A11yWrapper.css" />

    <title>Accessible and Responsive Carousel</title>
</head>

<body>
    <div class="container" role="main">
        <h1>Accessible and responsive suggestion box</h1>

        <div class="row">
            <div class="col-sm-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2 fund_finder_form_wrapper">
                <!-- Search input -->
                <div class="a11y_search_field">
                    <form id="fundFinderForm" name="fundFinderForm" class="fund-finder-form">
                        <div class="a11y_input_wrapper">
                            <label class="sr-only" for="a11y_input_box">Search by word</label>
                            <input id="a11y_input_box" name="a11y_input_box" type="text"
                                class="form-control" autocomplete="off" aria-owns="res"
                                aria-autocomplete="both" placeholder="Search by word">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>

    <script src="dist/js/A11yWrapper.min.js" type="text/javascript"></script>

    <script type="text/javascript">
        var plainArr = ['Apple', 'Mango', 'Argentina', 'Monkey', 'Bellisimo', 'Ball', 'Cat'],
        arrObj = [
                {
                    id: '1',
                    itemID:'10',
                    text: 'Apple',
                    desc: 'Apple is a nice fruit'
                },
                {
                    id: '2',
                    itemID:'20',
                    text: 'Argentina',
                    desc: 'Argentina is a country'
                },
                {
                    id: '3',
                    itemID:'30',
                    text: 'Ball',
                    desc: 'Ball is a object'
                },
                {
                    id: '4',
                    itemID:'40',
                    text: 'Batman',
                    desc: 'Batman is a character'
                }
            ],
            url = 'https://funds.dynamic.ca/fundprofiles/filter?locale=en-us'
        
        var suggestionOption = {
            dataCanvas: {
                source: arrObj,
                hooks: ['id', 'itemID'],
                displayKeyName: "text"
            },
            minimumType: 1,
            noOfItems: 10,
            searchType: 'contains', // other available values -> start , end || start = String starts with the value, end = String ends with
            screenReaderClassName: "visually-hidden",
            SRText: {
                instruction: "When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures.",
                announceCount: "%number% suggestions found. Use up and down arrows to navigate",
                suggestionBoxLabel: "List of suggestions"
            },
            onItemSelected: function (data) {
                console.log('Selected Item: ', data);
            },
            onFocusIn: function(data){
                console.log('Focus In event from Callback. Selected item: ' , data);
            },
            onFocusOut: function(data){
                console.log('Focus out event from Callback. Selected item: ' , data);
            }
        };
        window.addEventListener('load', function () {
            window.A11yWrapper('#a11y_input_box').autosuggestion(suggestionOption);
        });
    </script>
</body>

</html>